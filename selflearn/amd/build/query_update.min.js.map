{"version":3,"file":"query_update.min.js","sources":["../src/query_update.js"],"sourcesContent":["define(['jquery', 'core/ajax'] , function ($, Ajax) {\n    return {\n        queryCourses: function() {\n            $('#id_search_input').on('input', function() {\n                var userInput  = $(this);\n                var searchText = \"\" + userInput.val();\n                window.console.log('Input: ' + searchText + \", URL: \"+userInput.data('data-ajax-url'));\n                var request = Ajax.call([{\n                    methodname: 'selflearn_search_items',\n                    args: { search: searchText}\n                }]);\n                request[0].then(function(data) {\n                    window.console.log('Data: ' + JSON.stringify(data));\n                    var course_select = $('#id_course_selection');\n                    course_select.empty();\n\n                    data.forEach(function(course) {\n                        window.console.log('course: ' + JSON.stringify(course));\n                        course_select.append($('<option>', {\n                            value: course.id,\n                            text: course.name\n                        }));\n                    });\n\n                    course_select.value = data[0].id;\n                }).fail(function(error) {\n                    window.console.log('AJAX request failed', error);\n                });\n            });\n        }\n    };\n});"],"names":["define","$","Ajax","queryCourses","on","userInput","this","searchText","val","window","console","log","data","call","methodname","args","search","then","JSON","stringify","course_select","empty","forEach","course","append","value","id","text","name","fail","error"],"mappings":"AAAAA,oCAAO,CAAC,SAAU,cAAe,SAAUC,EAAGC,YACnC,CACHC,aAAc,WACVF,EAAE,oBAAoBG,GAAG,SAAS,eAC1BC,UAAaJ,EAAEK,MACfC,WAAa,GAAKF,UAAUG,MAChCC,OAAOC,QAAQC,IAAI,UAAYJ,WAAa,UAAUF,UAAUO,KAAK,kBACvDV,KAAKW,KAAK,CAAC,CACrBC,WAAY,yBACZC,KAAM,CAAEC,OAAQT,eAEZ,GAAGU,MAAK,SAASL,MACrBH,OAAOC,QAAQC,IAAI,SAAWO,KAAKC,UAAUP,WACzCQ,cAAgBnB,EAAE,wBACtBmB,cAAcC,QAEdT,KAAKU,SAAQ,SAASC,QAClBd,OAAOC,QAAQC,IAAI,WAAaO,KAAKC,UAAUI,SAC/CH,cAAcI,OAAOvB,EAAE,WAAY,CAC/BwB,MAAOF,OAAOG,GACdC,KAAMJ,OAAOK,WAIrBR,cAAcK,MAAQb,KAAK,GAAGc,MAC/BG,MAAK,SAASC,OACbrB,OAAOC,QAAQC,IAAI,sBAAuBmB"}